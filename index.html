<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>US Immigration and Educational Data</title>
    <link rel="stylesheet" href="app.css">
    <link rel="stylesheet" href="styles.css">
    <!--For d3 tooltip style-->
    <link rel="stylesheet" href="https://rawgithub.com/Caged/d3-tip/master/examples/example-styles.css">
    <!-- <script src="https://d3js.org/d3.v5.min.js"></script> -->
    <!-- <script src="d3.v5.js"></script> -->
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <!-- <script src="http://labratrevenge.com/d3-tip/javascripts/d3.tip.v0.6.3.js"></script> -->
    <script src="d3/files/d3-tip.js"></script>
    <style>
        /* Additional CSS for layout */

        .title {
            flex: 1;
            margin-left: 20px; /* Adjust margin as needed */
        }

        .canva {
            flex: 1;
            margin-left: 20px; /* Adjust margin as needed */
        }
    </style>
</head>
<body>
    <div class="container2">
        <div class="">
            <div id="intro" class="outer-margin" >
                <h1 class="title">How Many People Apply to Come to the U.S.A. </h1>
                <p>The United States of America welcomes tens of thousands of people from around the world
                    to visit, live and work in the U.S.  The following graph visualization
                    shows all forms received and processed 
                    by the <a href="https://www.uscis.gov/tools/reports-studies/immigration-forms-data?topic_id=23035&field_native_doc_issue_date_value%5Bvalue%5D%5Bmonth%5D=&field_native_doc_issue_date_value_1%5Bvalue%5D%5Byear%5D=2018&combined=&items_per_page=10">USCIS</a> 
                    in 2018 and 2021.  Additionally the visualizations dig deeper 
                    and show how many applications where <strong>approved</strong>, <strong>denied</strong>,
                    <strong>pending</strong> and the type of each application.
                </p>
            </div>  
            
            <div id="tabs" text-align="right">
                <button id='2018' class="tablink active" onclick="switchScene('2018')">2018 Data</button><br>
                <button id='2021' class="tablink" onclick="switchScene('2021')">2021 Data</button>
                <!-- <button class="tablink" onclick="clearCanvas()">Clear Canvas</button> -->
            </div>

        </div>

    </div>

    <div class="left-column">
        <div class="canva">
            <svg width="0" height="0"></svg>
        </div>
    </div>

    <div id="intro" class="right-column" style="color: white;">
        <h1 class="title">Data Summary</h1>
        <h3>For the year 2018, employment-based forms are the most popular with humanitarian forms
            being the least submitted. Notably, for year 2021, ---.
            
        </h3>

        <h1 id="chartTitle">Most Common Form Types by Category 2018</h1>

        
        <div id="chart-container" class="chart">
            <div id="chart2018" class="chart2018">
                <svg width="0" height="0"></svg>
            </div>
            <div id="chart2021" class="chart2021">
                <svg width="0" height="0"></svg>
            </div>
        </div>
        
    </div>  


</body>
<!--<script defer src="app.js"></script>-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3-legend/2.25.6/d3-legend.min.js"></script>
<script>
    currentState = "2018"
</script>

<script src="d3/files/immigration.js"></script>
<script src="d3/files/scene.js"></script>
<script src="d3/files/bar_chart.js"></script>
<script>

    // Button event handlers to change state and update chart display
    document.getElementById('2018').addEventListener('click', function() {
        currentState = "2018";
        updateChartDisplay(currentState);
    });

    document.getElementById('2021').addEventListener('click', function() {
        currentState = "2021";
        updateChartDisplay(currentState);
    });

    // Initial display update based on the default state
    updateChartDisplay(currentState);

</script>
<script>
    function debug(component) {

        d3.selectAll(component).each(function(d, i) {
            console.log('Element:', this);
            // console.log('Data:', d);
            console.log('Index:', i);
        });
    }
    
    debug('chart2018');
</script>

</html>